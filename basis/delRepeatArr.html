<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>数组去重</title>
</head>

<body>
    <script>
        console.log('1.一行代码，ES6 Set');
        console.log([...new Set([1, 1, 2, 2, 'a', 'a'])]);
        const set = new Set([1, 1, 2, 2, 'a', 'a']);
        console.log(set, Array.from(set));

        console.log('2.循环遍历 向结果数组添加元素');
        var arr = [1, 1, 3, 'z', 2, 1, 'a', 'z'];
        var result = [];
        for (var i = 0; i < arr.length; i++) {
            for (var j = i + 1; j < arr.length; j++) {
                if (arr[j] === arr[i]) {
                    j = ++i;
                }
            }
            result.push(arr[i]);
        }
        console.log(result);

        console.log('3.循环遍历 利用splice');
        var arr = [1, 1, 3, 'z', 2, 1, 'a', 'z'];
        var len = arr.length;
        for (var i = 0; i < len; i++) {
            for (var j = i + 1; j < len; j++) {
                if (arr[j] === arr[i]) {
                    arr.splice(j, 1);
                    len--;
                    j--;
                }
            }
        }
        console.log(arr);

        console.log('4.利用对象属性不能重复');
        var obj = {};
        var arr = [1, 1, 3, 'z', 2, 1, 'a', 'z'];
        var result = [];
        for (var i = 0; i < arr.length; i++) {
            if (!obj[arr[i]]) {
                obj[arr[i]] = arr[i];
                result.push(arr[i]);
            }
        }
        console.log(result);

        console.log('5.先排序后递归去重');
        var arr = [1, 1, 3, 'z', 2, 1, 'a', 'z'];
        arr.sort();
        function loop(index) {
            if (index > 0) {
                if (arr[index] === arr[index - 1]) {
                    arr.splice(index, 1);
                }
                loop(index - 1);
            }
        }
        loop(arr.length - 1);
        console.log(arr);

        console.log('5.indexof查找去重');
        var arr = [1, 1, 3, 'z', 2, 1, 'a', 'z'];
        var result = [];
        arr.forEach(element => {
            if (result.indexOf(element) === -1) {
                result.push(element)
            }
        });
        console.log(result);
    </script>
</body>

</html>