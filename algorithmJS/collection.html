<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>集合</title>
</head>

<body>
    <script>
        let Collection = (function () {
            let items = {};
            class Collection {
                has(key) {
                    return items.hasOwnProperty(key);
                }
                add(key) {
                    if (!this.has(key)) {
                        items[key] = key;
                        return true;
                    }
                    return false;
                }
                remove(key) {
                    if (this.has(key)) {
                        delete items[key];
                        return true;
                    }
                    return false;
                }
                clear() {
                    items = {};
                    return true;
                }
                size() {
                    let count = 0;
                    for (let key in items) {
                        if (items.hasOwnProperty(key)) {
                            count++;
                        }
                    }
                    return count;
                }
                values() {
                    let values = [];
                    console.log(items);
                    for (let key in items) {
                        if (items.hasOwnProperty(key)) {
                            values.push(items[key]);
                        }
                    }
                    return values;
                }
                union() {
                    // 并集
                    let unionSet = new Collection();
                    console.log(unionSet);
                }
                intersection() {
                    // 交集
                }
                difference() {
                    // 差集
                }
                subset() {
                    // 子集
                }
            }
            return Collection;
        })();
        let collection1 = new Collection();
        console.log('has-1', collection1.has(1));
        collection1.add(1);
        collection1.add(2);
        collection1.add(3);
        console.log('has-1', collection1.has(1));
        collection1.remove(1);
        console.log('has-1', collection1.has(1));
        console.log(collection1.size());
        console.log(collection1.values());
        collection1.clear();
        console.log(collection1.size());
        console.log(collection1.values());
        collection1.add(1); collection1.add(2); collection1.add(3);
        let collection2 = new Collection();
        console.error('this need repeat thinking.');
        // collection2.add(3); collection2.add(4); collection2.add(5); collection2.add(6);
        console.log(collection2.values());
        // collection1.union(collection2);

        console.log('___________________ Set ___________________');
        let s = new Set();
        s.add('aa'); s.add('aa'); s.add('bb'); s.add('cc'); s.add(1); s.add(2); s.add(3);
        console.log(s.values());
    </script>
</body>

</html>